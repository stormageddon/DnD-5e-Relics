<!DOCTYPE html>
<title>D&D 5e Single-use Magic Items</title>
<link rel="stylesheet" type="text/css" href="http://mikeshea.net/style.css">
<style>
a, #ordered, #unordered{
color:#00f;
text-decoration:none; 
cursor:pointer
}
</style>
<meta name="viewport" content="user-scalable=yes, width=device-width" />

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
<script type="text/javascript" src="5e_relics.js"></script>

<script type="text/javascript">
$(document).ready(function() {
    let params = parseParams();
    let DEFAULT_NUM = 1
    var relics = getRelics(params.n || DEFAULT_NUM, "ordered");
    $("div#itemlist").html("<ol><li>"+relics.join("<li>"));
    $("#ordered").bind("click",function(){
        var relics = getOrderedRelics(params.n || DEFAULT_NUM);
        $("div#itemlist").html("<ol><li>"+relics.join("<li>"));
    });
    $("#unordered").bind("click",function(){
        var relics = getRelics(params.n || DEFAULT_NUM, false);
        $("div#itemlist").html("<ol><li>"+relics.join("<li>"));
    });
});

var parseParams = function() {
    let query = window.location.search.substring(1);
    let qs = query.split("&");
    let paramMap = {}
    for (let i=0; i < qs.length; i++) {
        let arg = qs[i].split("=");
        console.log('arg: ' + arg);
        paramMap[arg[0]] = arg[1];
    }
    console.log('paramMap', paramMap);
    return paramMap;
}
</script>
<div class="container">
<div class="article">
<a name="items"></a>
<h2>D&D 5e Single-use Magic Items</h2>
<p><span id="ordered">ordered by level range</span> | <span id="unordered">randomly distributed</span></p>
<div id="itemlist"></div>
</div>
<div class="footer"></div>
</div>
